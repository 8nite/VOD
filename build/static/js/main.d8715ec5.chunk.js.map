{"version":3,"sources":["reducer/index.js","store.js","components/Video.js","components/VideoList.js","components/Header.js","components/Index.js","index.js"],"names":["state","action","type","filter","text","temp","watched","includes","push","configureStore","initialState","config","key","storage","reducer","persistCombineReducers","root","rootReducer","store","createStore","console","log","getState","persistor","persistStore","subscribe","Video","entries","onEnded","useState","show","setShow","handleClose","handleShow","Array","isArray","length","useKeyboardArrows","map","entry","style","src","images","url","alt","title","className","id","controls","playsInline","light","playIcon","contents","href","Button","variant","onClick","Modal","onHide","Header","closeButton","Title","Body","description","Date","publishedDate","toString","availableDate","Footer","VideoList","categories","some","category","changeFilter","Navbar","expand","bg","Brand","Toggle","aria-controls","Collapse","Nav","Link","value","Index","props","fetch","this","then","response","json","setState","React","Component","updateWatched","App","onChangeFilter","e","dispatch","nativeEvent","target","window","location","reload","ConnectedApp","connect","render","document","getElementById"],"mappings":"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","file":"static/js/main.d8715ec5.chunk.js","sourcesContent":["export default function (state = {}, action) {\r\n    switch (action.type) {\r\n        case 'CHANGEFILTER':\r\n            return {\r\n                ...state,\r\n                filter: action.text\r\n            }\r\n        case 'UPDATEWATCHED': {\r\n            let temp\r\n            if (state)\r\n                temp = (state.watched || [])\r\n            else\r\n                temp = []\r\n            if (!(temp.includes(action.text)))\r\n                temp.push(action.text)\r\n            return {\r\n                ...state,\r\n                watched: temp,\r\n            }\r\n        };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducer/index\";\r\n//import { loadState, saveState } from \"../utils\";\r\nimport { persistStore, persistCombineReducers } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\n// Import the reducer and create a store\r\n//import { reducer } from './todoListRedux'\r\n\r\nfunction configureStore(initialState) {\r\n  /*let createStoreWithMiddleware;\r\n\r\n  const middleware = process.env.__DEV__\r\n    ? applyMiddleware(thunk, createLogger())\r\n    : applyMiddleware(thunk);\r\n\r\n  createStoreWithMiddleware = compose(\r\n    middleware,\r\n  );*/\r\n\r\n  const config = {\r\n    key: 'root',\r\n    storage,\r\n  }\r\n\r\n  //const reducer = persistReducer(config,\r\n  //  rootReducer\r\n  //);\r\n\r\n  const reducer = persistCombineReducers(config, {root: rootReducer});\r\n\r\n  //const store = createStoreWithMiddleware(createStore)(reducer, initialState);\r\n  const store = createStore(reducer, initialState);\r\n  \r\n  console.log(store.getState())\r\n  // Enable persistence\r\n  let persistor = persistStore(store, null, () => {\r\n    store.getState() // if you want to get restoredState\r\n  });\r\n\r\n  /*if (module.hot) {\r\n    module.hot\r\n      .accept('../reducer', () => {\r\n        const nextRootReducer = require('../reducer/index');\r\n        store.replaceReducer(nextRootReducer);\r\n      });\r\n  }*/\r\n\r\n\r\n  store.subscribe(() => {\r\n    //saveState(store.getState().albums)\r\n  });\r\n\r\n  return { store, persistor };\r\n\r\n}\r\n\r\n// Add the autoRehydrate middleware to your redux store\r\n// const store = createStore(rootReducer);\r\n\r\n\r\nexport default configureStore","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Carousel } from 'react-responsive-carousel';\nimport { Modal, Button } from 'react-bootstrap';\n\nconst Video = ({ entries, onEnded }) => {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      {Array.isArray(entries) && entries.length > 0 ? (\n        <Carousel useKeyboardArrows='true'>\n          {entries.map((entry) =>\n            <div style={{ \"height\": \"717px\" }}>\n              <img src={entry.images[0].url} alt={entry.title} />\n              <p className=\"legend\">\n                <video\n                  id={entry.id}\n                  key={entry.id}\n                  controls='false'\n                  playsInline\n                  light={entry.images[0].url}\n                  playIcon\n                  onEnded={onEnded}\n                >\n                  <source src={entry.contents[0].url} />\n                </video>\n                <p><a href={entry.contents[0].url}>{entry.title}</a></p>\n                <Button variant=\"primary\" onClick={handleShow}>\n                  More info\n              </Button>\n\n                <Modal show={show} onHide={handleClose}>\n                  <Modal.Header closeButton>\n                    <Modal.Title>INFO</Modal.Title>\n                  </Modal.Header>\n                  <Modal.Body><p>Description:<br/>{entry.description}</p>\n                    <p>Type:<br/>{entry.type}</p>\n                    <p>Published Date:<br/>{new Date(entry.publishedDate).toString()}</p>\n                    <p>Available Date:<br/>{new Date(entry.availableDate).toString()}</p>\n                  </Modal.Body>\n                  <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                      Close\n                </Button>\n                  </Modal.Footer>\n                </Modal>\n              </p>\n            </div>\n          )}\n        </Carousel>\n      ) : (null)\n      }\n    </>\n  )\n}\n\nVideo.propTypes = {\n  entries: PropTypes.array.isRequired,\n  onEnded: PropTypes.func.isRequired\n}\n\nexport default Video\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Video from './Video'\n\nconst VideoList = ({ entries, filter, watched, onEnded }) => (\n  <div className=\"container-fluid\">\n    <div className=\"row\">\n      <div className=\"col align-self-start\">\n        {filter}\n      </div>\n      <div className=\"col align-self-center\">\n        {entries && filter && filter !== '' ? (\n          <Video entries={entries.filter((entry) => entry.categories.some((category) => category.id === filter))} onEnded={onEnded} />\n        ) : (<Video entries={entries} onEnded={onEnded} />)}\n      </div>\n    </div>\n    {Array.isArray(watched) && watched.length > 0 && entries.some((entry) => watched.includes(entry.id)) ? (\n      <div className=\"row\">\n        <div className=\"col align-self-start\">\n          Watch Again\n        </div>\n        <div className=\"col align-self-center\">\n          <Video entries={entries.filter((entry) => watched.includes(entry.id))} onEnded={onEnded} />\n        </div>\n      </div>\n    ) : (null)\n    }\n  </div>\n)\n\nVideoList.propTypes = {\n  entries: PropTypes.array.isRequired,\n  filter: PropTypes.string.isRequired,\n  watched: PropTypes.array.isRequired,\n  onEnded: PropTypes.func.isRequired\n}\n\nexport default VideoList\n","import React from 'react'\nimport { Navbar, Nav, Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types'\n\nconst Header = ({ changeFilter }) => (\n  <header>\n    <Navbar expand=\"lg\" variant=\"dark\" bg=\"dark\">\n      <Navbar.Brand href=\"#home\">One Page Video Web App</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\">\n          <Nav.Link><Button onClick={changeFilter} variant=\"secondary\" value=''>ALL</Button></Nav.Link>\n          <Nav.Link><Button onClick={changeFilter} variant=\"primary\" value='movies-comedy'>Comedy</Button></Nav.Link>\n          <Nav.Link><Button onClick={changeFilter} variant=\"secondary\" value='movies-biography'>Biography</Button></Nav.Link>\n          <Nav.Link><Button onClick={changeFilter} variant=\"success\" value='movies-action'>Action</Button></Nav.Link>\n          <Nav.Link><Button onClick={changeFilter} variant=\"warning\" value='movies-mystery'>Mystery</Button></Nav.Link>\n          <Nav.Link><Button onClick={changeFilter} variant=\"danger\" value='movies-horror'>Horror</Button></Nav.Link>\n          <Nav.Link><Button onClick={changeFilter} variant=\"light\" value='movies-drama'>Drama</Button></Nav.Link>\n          <Nav.Link><Button onClick={changeFilter} variant=\"info\" value='movies-crime'>Crime</Button></Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  </header>\n)\n\nHeader.propTypes = {\n  changeFilter: PropTypes.func.isRequired\n}\n\nexport default Header\n","import React from 'react'\nimport VideoList from './VideoList'\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Header from './Header';\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      entries: []\n    }\n  }\n\n  componentWillMount() {\n    fetch('http://localhost:3010/?filter=' + this.props.filter)\n      .then(response => response.json())\n      .then(entries => {\n        this.setState(entries)\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <Header changeFilter={this.props.changeFilter}/>\n        <VideoList entries={this.state.entries} filter={this.props.filter} watched={this.props.watched} onEnded={this.props.onEnded}/>\n      </div>          \n    )\n  }\n}\n\nexport default Index\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport configureStore from \"./store\";\nimport { Provider, connect } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/lib/integration/react\";\nimport Index from './components/Index'\n\n// action creator\nfunction changeFilter(text) {\n  return {\n    type: \"CHANGEFILTER\",\n    text\n  };\n}\n\nfunction updateWatched(text) {\n  return {\n    type: \"UPDATEWATCHED\",\n    text\n  };\n}\n\nconst { store, persistor } = configureStore({\n  root: {\n    watched: [],\n    filter: null,\n    entries: []\n  }\n});\n\nclass App extends React.Component {\n  onChangeFilter = e => {\n    this.props.dispatch(changeFilter(e.nativeEvent.target.value));\n    window.location.reload(false);\n  };\n  onEnded = e => {\n    this.props.dispatch(updateWatched(e.nativeEvent.target.id));\n    window.location.reload(false);\n  };\n\n  render() {\n    return (\n      <PersistGate persistor={persistor}>\n        <Index filter={this.props.filter} changeFilter={this.onChangeFilter} onEnded={this.onEnded} watched={this.props.watched} />\n      </PersistGate>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  watched: state.root.watched,\n  filter: state.root.filter\n});\n\nconst ConnectedApp = connect(mapStateToProps)(App);\n\nrender(\n  <Provider store={store}>\n    <ConnectedApp />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}